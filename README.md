# ВП | Все потолочные

Многостраничный сайт ассоциации монтажников натяжных потолков с каталогом исполнителей, системой отзывов и рейтингами, а также разделом «Форум/Статьи».

## Дизайн

Сайт выполнен в красно-белом стиле с акцентом на:
- Честные цены и стандарты
- Прозрачность рынка
- Защиту потребителей
- Профессиональное сообщество

## Технологический стек

### Backend
- **Python 3.8+** - основной язык
- **Flask** - веб-фреймворк
- **SQLite** - база данных (встроенная)
- **SQLAlchemy** - ORM
- **Flask-JWT-Extended** - авторизация
- **Pillow** - обработка изображений

### Frontend
- **HTML5 + CSS3 + Vanilla JavaScript** - без фреймворков
- **Bootstrap 5** - стилизация (CDN)
- **Font Awesome** - иконки (CDN)

## Установка и запуск

### 1. Установка зависимостей

```bash
cd backend
pip install -r requirements.txt
```

### 2. Запуск сервера

```bash
cd backend
python app.py
```

Сервер запустится на `http://localhost:5000`

### 3. Открытие сайта

Откройте браузер и перейдите по адресу `http://localhost:5000`

## Структура проекта

```
project/
├── backend/
│   ├── app.py              # Основной файл Flask приложения
│   ├── models.py           # Модели базы данных
│   ├── routes/             # API роуты
│   │   ├── auth.py         # Аутентификация
│   │   ├── catalog.py      # Каталог компаний
│   │   ├── reviews.py      # Отзывы
│   │   └── forum.py        # Форум и статьи
│   ├── static/uploads/     # Загруженные файлы
│   ├── requirements.txt    # Python зависимости
│   └── database.db        # База данных SQLite
├── frontend/
│   ├── index.html          # Главная страница
│   ├── catalog.html        # Каталог
│   ├── profile.html        # Личный кабинет
│   ├── forum.html          # Форум
│   ├── login.html          # Вход
│   ├── register.html       # Регистрация
│   ├── add-company.html    # Добавление компании
│   ├── add-article.html    # Написание статьи
│   ├── css/
│   │   └── style.css       # Стили
│   └── js/
│       ├── api.js          # API клиент
│       ├── auth.js         # Аутентификация
│       ├── main.js         # Главная страница
│       ├── catalog.js      # Каталог
│       ├── profile.js      # Профиль
│       └── forum.js        # Форум
└── README.md
```

## Функциональность

### Для гостей
- Просмотр каталога компаний
- Поиск и фильтрация по категориям, городам, рейтингу
- Просмотр отзывов и рейтингов
- Чтение статей и комментариев
- Регистрация и вход в систему

### Для зарегистрированных пользователей
- Все возможности гостей
- Добавление своих компаний в каталог
- Оставление отзывов с оценками
- Написание статей и комментариев
- Управление своими карточками в личном кабинете

### Для администраторов
- Модерация отзывов, статей и комментариев
- Управление пользователями

## API Endpoints

### Аутентификация
- `POST /api/auth/register` - Регистрация
- `POST /api/auth/login` - Вход
- `GET /api/auth/profile` - Профиль пользователя
- `PUT /api/auth/profile` - Обновление профиля

### Каталог
- `GET /api/catalog` - Список компаний
- `GET /api/catalog/:id` - Информация о компании
- `POST /api/catalog` - Создание компании
- `PUT /api/catalog/:id` - Обновление компании
- `DELETE /api/catalog/:id` - Удаление компании
- `GET /api/catalog/categories` - Список категорий
- `GET /api/catalog/cities` - Список городов

### Отзывы
- `POST /api/reviews` - Создание отзыва
- `PUT /api/reviews/:id` - Обновление отзыва
- `DELETE /api/reviews/:id` - Удаление отзыва
- `GET /api/reviews/company/:id` - Отзывы компании
- `GET /api/reviews/user` - Отзывы пользователя

### Форум
- `GET /api/forum/articles` - Список статей
- `GET /api/forum/articles/:id` - Статья
- `POST /api/forum/articles` - Создание статьи
- `PUT /api/forum/articles/:id` - Обновление статьи
- `DELETE /api/forum/articles/:id` - Удаление статьи
- `POST /api/forum/articles/:id/comments` - Добавление комментария
- `PUT /api/forum/comments/:id` - Обновление комментария
- `DELETE /api/forum/comments/:id` - Удаление комментария
- `GET /api/forum/tags` - Список тегов

### Файлы
- `POST /api/upload` - Загрузка файла
- `GET /static/uploads/:filename` - Получение файла

## База данных

### Таблицы
- **users** - Пользователи
- **companies** - Компании
- **reviews** - Отзывы
- **articles** - Статьи
- **comments** - Комментарии

### Связи
- Компания принадлежит пользователю (owner_id)
- Отзыв принадлежит компании и пользователю
- Статья принадлежит пользователю (author_id)
- Комментарий принадлежит статье и пользователю

## Безопасность

- JWT токены для авторизации
- Проверка прав доступа на уровне API
- Валидация входных данных
- Ограничение типов загружаемых файлов
- Защита от SQL инъекций через ORM

## Развертывание

### Локальная разработка
1. Клонируйте репозиторий
2. Установите зависимости: `pip install -r requirements.txt`
3. Запустите сервер: `python app.py`
4. Откройте `http://localhost:5000`

### Продакшн
1. Настройте веб-сервер (Nginx/Apache)
2. Используйте WSGI сервер (Gunicorn)
3. Настройте HTTPS
4. Используйте PostgreSQL вместо SQLite
5. Настройте резервное копирование БД

## Возможные улучшения

- Добавление капчи для защиты от спама
- Интеграция с социальными сетями
- Система уведомлений
- Мобильное приложение
- Расширенная аналитика
- Система модерации
- Полнотекстовый поиск
- Кэширование
- CDN для статических файлов

## Лицензия

MIT License
